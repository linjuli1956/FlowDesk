# FlowDesk 开发路线图 (Roadmap) 与优先级

## 项目目标
- **核心目标**：构建660×645像素紧凑型Windows系统管理工具
- **UI风格**：Claymorphism卡片式布局 + 渐变按钮 + 现代化设计
- **功能模块**：网络配置、网络工具、远程桌面、硬件监控四大核心功能
- **未来规划**：v2.0集中化管理平台 + 集成式远程桌面屏幕墙
- **平台兼容**：Windows 10/11 主要支持；Windows 7 兼容版本
- **架构原则**：分层架构(UI→服务→模型→工具)，严格遵循UI四大铁律

## 当前版本状态 (v2025-08-30)
**已完成核心功能**：
- ✅ 分层架构搭建完成
- ✅ StylesheetService模块化样式管理系统
- ✅ 网络配置Tab完整功能实现
- ✅ 实时输入验证系统
- ✅ 添加IP对话框功能
- ✅ 日志系统优化(编码冲突修复)
- ✅ UI四大铁律100%合规实现

## 历史版本 (已完成) v2025-08-30
### ✅ Phase 0：架构基线与设计冻结
- ✅ 模型字段设计完成(AdapterInfo, IPConfigInfo, ExtraIP, DnsConfig)
- ✅ 服务信号表定义完成(NetworkService 15个信号)
- ✅ UI objectName命名规范建立
- ✅ QSS基类与主题变量清单完成

### ✅ Phase 1：核心架构与静态UI  
- ✅ 分层目录结构搭建(UI/Services/Models/Utils)
- ✅ 主窗口与网络配置Tab静态布局完成
- ✅ StylesheetService模块化QSS管理系统
- ✅ Claymorphism主题落地
- ✅ 最小尺寸(660×645)与自适应布局验证
- ✅ 零内联样式、零!important实现

### ✅ Phase 2：网络管理只读功能
- ✅ NetworkService完整实现(2352行)
- ✅ 网卡列表展示、IP/DNS信息获取
- ✅ 双重状态判断系统(管理状态+连接状态)
- ✅ 状态徽章与IPv6支持
- ✅ 信号-槽数据传递机制完成

### ✅ Phase 2.5：网络配置写入功能 
- ✅ IP配置应用功能(apply_ip_config)
- ✅ DNS服务器设置功能
- ✅ 额外IP批量管理(添加/删除)
- ✅ 实时输入验证器系统
- ✅ AddIPDialog对话框完整实现

## 当前开发计划 (v2025-08-30+)

### 🚧 Phase 3A：NetworkService重构拆包 (1周)
**优先级：高** - 代码架构优化
- **任务**：
  - 将2352行NetworkService拆分为8个专业服务类
  - 按功能域拆分：发现枚举、详细信息、状态判断、性能信息、IP配置、额外IP管理、UI协调、工具方法
  - 保持接口兼容性和信号槽机制
- **验收**：
  - 单一职责原则100%合规
  - 现有功能零回归
  - 代码可维护性显著提升

### 🔄 Phase 3B：其余Tab页面开发 (3周) 
**优先级：中** - 功能完善
- **网络工具Tab**：
  - Ping/Traceroute/DNS查询工具
  - 网络诊断与连通性测试
  - Winsock重置功能
- **远程桌面Tab**：
  - RDP连接管理界面
  - 连接历史记录
  - 凭据安全存储
- **硬件监控Tab**：  
  - LibreHardwareMonitor集成
  - CPU/内存/磁盘监控图表
  - 实时性能数据展示

### 🎯 Phase 4：系统集成与优化 (2周)
**优先级：中** - 用户体验
- **系统托盘服务**：最小化到托盘、退出确认
- **设置持久化**：窗口状态、用户偏好保存
- **日志与错误报告**：完整的诊断信息系统
- **Win7兼容性**：降级样式与功能检测

## 未来规划 (v2.0) v2025-09+

### 🌟 集中化管理平台
- **C/S架构设计**：中央控制台 + 多客户端管理
- **批量操作**：多台设备网络配置同步
- **远程诊断**：集中化网络故障排查

### 🖥️ 集成式远程桌面屏幕墙  
- **多屏幕展示**：同时监控多个远程桌面
- **快速切换**：一键在不同会话间切换
- **会话录制**：操作过程录制与回放

## 技术约束与规范 v2025-08-30

### 核心约束
- **Python版本**：3.8+ (Win7兼容性)
- **UI框架**：PyQt5 (稳定性考虑) 
- **硬件监控**：LibreHardwareMonitor
- **数据库**：SQLite (轻量级本地存储)

### UI四大铁律 (100%执行)
1. 🚫 **禁止样式重复**：StylesheetService统一管理，objectName精确控制
2. 🔄 **严格自适应布局**：QLayout响应式设计，禁止固定尺寸
3. 📏 **最小宽度保护**：660×645最小尺寸，防止UI崩溃
4. ⚙️ **智能组件缩放**：输入框可拉伸，按钮固定，容器自适应

### 架构原则
- **分层架构**：UI层(零业务逻辑) → 服务层(信号通信) → 模型层(数据契约) → 工具层
- **信号槽机制**：所有UI-服务通信使用PyQt信号，严禁直接调用
- **单一职责**：每个类专注单一功能领域
- **开闭原则**：通过扩展而非修改来增加功能

## 注意事项/变更点 v2025-08-30
- ✅ **重大里程碑**：网络配置Tab核心功能全部完成，包括IP配置、额外IP管理、实时验证
- ✅ **架构优化**：StylesheetService模块化QSS管理替代原始样式管理
- ✅ **日志系统**：编码冲突修复，支持verbose模式，生产环境就绪
- 🚧 **下一步重点**：NetworkService拆包重构，提升代码可维护性
- 📋 **技术债务**：2352行NetworkService需拆分为8个专业服务类